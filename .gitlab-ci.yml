stages:
  - build

Win7-VS12-x64-subproject:
  stage: build
  script:
  - call %ENVFILESDIR%\Boost-1.64-vs12-x64.bat
  - call %ENVFILESDIR%\Qt-5.9.bat
  - call %ENVFILESDIR%\OpenSceneGraph-3.4.0-vs12-x64.bat
  - call %ENVFILESDIR%\zeromq-4.0.4.bat
  - set PATH=%PATH%;"c:\Program Files (x86)\Git\bin"
  - set BUILD_GENERATOR=Visual Studio 12 Win64
  - set CMAKE_EXTRA_ARGS="-DWITH_NO_CONSOLE=ON"
  - bash --login .gitlab-ci.sh
  tags:
  - win7
  except:
  - tags
Ubuntu-subproject:
  stage: build
  script:
  - module load Qt-5.5
  - module load OpenSceneGraph-3.4.0-Qt5.5-16.04
  - bash .gitlab-ci.sh
  tags:
  - ubuntu
  except:
  - tags
OSX-subproject:
  stage: build
  script:
  - module load Qt-5.4
  - module load OpenSceneGraph-3.4.0-Qt5.5-16.04
  - bash .gitlab-ci.sh
  tags:
  - osx
  except:
  - tags
